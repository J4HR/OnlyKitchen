-- Creación de la tabla de usuarios
CREATE TABLE Users (
    UserID INT PRIMARY KEY AUTO_INCREMENT,
    Username VARCHAR(50) NOT NULL,
    Password VARCHAR(100) NOT NULL,
    Email VARCHAR(100) NOT NULL
);

-- Creación de la tabla de recetas
CREATE TABLE Recipes (
    RecipeID INT PRIMARY KEY AUTO_INCREMENT,
    Title VARCHAR(100) NOT NULL,
    Description TEXT,
    Instructions TEXT,
    UserID INT NOT NULL,
    FOREIGN KEY (UserID) REFERENCES Users(UserID)
);

-- Creación de la tabla de ingredientes
CREATE TABLE Ingredients (
    IngredientID INT PRIMARY KEY AUTO_INCREMENT,
    Name VARCHAR(100) NOT NULL
);

-- Creación de la tabla de ingredientes de recetas (relación muchos a muchos entre recetas e ingredientes)
CREATE TABLE RecipeIngredients (
    RecipeID INT,
    IngredientID INT,
    FOREIGN KEY (RecipeID) REFERENCES Recipes(RecipeID),
    FOREIGN KEY (IngredientID) REFERENCES Ingredients(IngredientID),
    PRIMARY KEY (RecipeID, IngredientID)
);

-- Creación de la tabla de comentarios de recetas
CREATE TABLE RecipeComments (
    CommentID INT PRIMARY KEY AUTO_INCREMENT,
    RecipeID INT,
    UserID INT,
    Comment TEXT,
    CommentDate DATETIME,
    FOREIGN KEY (RecipeID) REFERENCES Recipes(RecipeID),
    FOREIGN KEY (UserID) REFERENCES Users(UserID)
);

-- Creación de la tabla de categorías
CREATE TABLE Categories (
    CategoryID INT PRIMARY KEY AUTO_INCREMENT,
    Name VARCHAR(100) NOT NULL
);